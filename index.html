<!DOCTYPE html>
<html>
<head>
    <title>An introduction to ClojureScript for Javascript developers</title>
    <meta charset='utf-8'>
    <link rel="stylesheet" href="normalize.css">
    <link rel="stylesheet" href="font.css">
    <link rel="stylesheet" href="styles/monokai_sublime.css">
    <link rel="stylesheet" href="slides.css">
</head>
<body>
    <article id="deck1">

<!-- Other presentations:
https://github.com/oakmac/intro-to-cljs/blob/master/index.html

Clojure: the JFDI language
https://docs.google.com/presentation/d/15-7qFy6URdE7Owi2LitkQI_OHBu1AFWPUwHxgBc-O4E/edit#slide=id.g1793dde48_1213

https://github.com/cemerick/clojure-type-selection-flowchart

Intro to Clojure (February 2014 Houston Functional Programming Meetup)
http://www.youtube.com/watch?v=yL_N7kP3jtA

https://github.com/magomimmo/modern-cljs
http://clojurescriptkoans.com/
http://ckirkendall.github.io/enfocus-site/index.html
http://sgrove.github.io/omchaya/docs/presentation.html#/
https://github.com/stuartsierra/component

http://holmsand.github.io/reagent/news/binary-clock.html
http://pmbauer.github.io/2014/01/27/hoplon-binary-clock/
http://programming-enchiladas.destructuring-bind.org/rm-hull/8262502
https://github.com/bodil/clojurescript-all-the-way-down/blob/master/src/server/server.cljs
https://code.google.com/p/closure-library/wiki/NodeJS
http://blog.lauripesonen.com/clojurescript-optimizations-on-node-huh/

http://swannodette.github.io/2014/02/27/taking-off-the-blindfold/
http://danielsz.github.io/2014/02/28/The-pleasantness-of-Om/
-->
        <section>
            <div class="content">
                <div class="unbrokenline"></div>
                <h1>An Introduction to <strong>ClojureScript</strong></h1>
                <h3>for Javascript developers</h3>
                <div class="unbrokenline"></div>
                <div class="me"></div>
                <div><a target="_blank" href="http://blog.lobberecht.com/">http://blog.Lobberecht.com</a><br/><a target="_blank" href="https://twitter.com/jared314">@Jared314</a><br/><a target="_blank" href="http://github.com/Jared314">Jared@Lobberecht.com</a>
                </div>
            </div>
        </section>

        <section>
            <div class="content">
                <div class="unbrokenline"></div>
                <h1>Knowledge</h1>
                <h4>is the difference between choice and choices.</h4>
                <div class="byline">
                    <div class="classy">Unknown Author</div>
                </div>
            </div>
        </section>

        <section>
            <div class="content">
                <div class="unbrokenline"></div>
                <h1>There will be parentheses in this presentation.</h1>
                <div class="unbrokenline"></div>
            </div>
            <aside>
            I put this warning in here, because, from my experience, that viseral reaction to moving the opening paren one step to the left is real. And, if you've spent more than a decade putting curly braces around code, there is a transition period.
            </aside>
        </section>
        
        <section>
            <div class="content">
                <div class="unbrokenline"></div>
                <h2>Basic Syntax Conversion</h2>
                <pre style="display: inline-block;"><code class="javascript">12345

"abc"

[1, 2, 3]

[1, 2, 3][0]

{'a': 1, 'b': 2, 'c': 3}

var a = 1;

function(x){ return x; }

function f(x, y){ return x + y; }

(function(){
  var b = 2;
  return f(a, b);
}());
</code></pre>
<pre style="display: inline-block;"><code class="clojure">12345

"abc"

[1 2 3]

([1 2 3] 0)

{"a" 1 "b" 2 "c" 3}

(def a 1)

(fn [x] x)

(defn f [x y] (+ x y))

(let [b 2]
  (f a b))


</code></pre>
            <div class="unbrokenline"></div>
            </div>
            <aside>
            For reference, here is a basic syntax conversion table. Many of the items are fairly intuitive for people with basic knowledge of Javascript. But, I thought I would add them here for direct comparison. Some things you should note are, there is no syntactic difference between indexing into an array and using the array as a function. There are dedicated functions for this, such as 
            </aside>
        </section>

        <section>
            <div class="content">
                <div class="byline"><div class="classy">Infinite Lazy FizzBuzz</div></div>
                <h1>The first function a developer learns.</h1>
                <pre style="display: inline-block;"><code class="javascript">// Lazy.js
function fizzbuzz(x){
  var x3 = x % 3 == 0,
      x5 = x % 5 == 0;
  if(x3 &amp;&amp; x5)
    return "fizzbuzz";
  if(x3) return "fizz";
  if(x5) return "buzz";
  return x;
}

Lazy
  .generate(function[x]{
    return x;
  })
  .drop(1)
  .map(fizzbuzz);

</code></pre>
                <pre style="display: inline-block;"><code class="clojure">(defn fizzbuzz [x]
  (let [x3 (zero? (mod x 3))
        x5 (zero? (mod x 5))]
    (cond
     (and x3 x5) "fizzbuzz"
     x3 "fizz"
     x5 "buzz"
     :else x)))

(map fizzbuzz
     (drop 1 (range)))
</code></pre>
            <div class="unbrokenline"></div>
            </div>
            <aside>
            Fizzbuzz. Truely the workhorse of the technical interview. In this case, I used a Javascript library called Lazy.js to replicate the lazy sequences produced by the ClojureScript range, drop, and map. But, the point is the similarity of the structure. 
            </aside>
        </section>

        <section>
            <div class="content">
                <div class="byline"><div class="classy">Infinite Lazy FizzBuzz</div></div>
                <h1>The first function a developer learns.</h1>
                <pre style="display: inline-block;"><code class="javascript">"use strict";
// JS ES6
function* range(){
  for(let i = 0;;i++)
    yield i;
}

function* map(f, coll){
  for(let x of coll)
    yield f(x);
}

function drop(n, coll){
  for(let i = 0; i &lt; n; i++)
    coll.next();
  return coll;
}

function fizzbuzz(x){
  let x3 = x % 3 == 0,
      x5 = x % 5 == 0;
  if(x3 &amp;&amp; x5)
    return "fizzbuzz";
  if(x3) return "fizz";
  if(x5) return "buzz";
  return x;
}

map(fizzbuzz, 
    drop(1, range()));
</code></pre>
                <pre style="display: inline-block;"><code class="clojure">(defn fizzbuzz [x]
  (let [x3 (zero? (mod x 3))
        x5 (zero? (mod x 5))]
    (cond
     (and x3 x5) "fizzbuzz"
     x3 "fizz"
     x5 "buzz"
     :else x)))

(map fizzbuzz
     (drop 1 (range)))
</code></pre>
            <div class="unbrokenline"></div>
            </div>
            <aside>
            I also did an example replicating the features in ES6. In this case, I had to defined my own generaters to to replicate the lazy sequences. But, the structure of the logic is not that different from Javascript written in a functional style.
            </aside>
        </section>



        <section>
            <div class="content">
                <div class="byline"><div class="classy">Architecture</div></div>
                <h1>Single Atom Architecture</h1>
                <div class="unbrokenline"></div>
            </div>
            <aside>
                
            </aside>
        </section>


        <section>
            <div class="content">
                <div class="byline"><div class="classy">Syntax</div></div>
                <h1>Javascript Interop</h1>
                <div class="unbrokenline"></div>
            </div>
            <aside>
                
            </aside>
        </section>


        <section>
            <div class="content">
                <div class="byline"><div class="classy"></div></div>
                <h1>Common Javascript Libraries</h1>
                <div class="unbrokenline"></div>
            </div>
            <aside>
                
            </aside>
        </section>
        

        <section>
            <div class="content">
                <div class="byline"><div class="classy"></div></div>
                <h1>Existing ClojureScript Libraries</h1>
                <div class="unbrokenline"></div>
            </div>
            <aside>
                
            </aside>
        </section>


        <section>
            <div class="content">
                <div class="unbrokenline"></div>
                <h1>Building It</h1>
                <div class="unbrokenline"></div>
            </div>
            <aside>
                
            </aside>
        </section>


        <section>
            <div class="content">
                <div class="byline"><div class="classy">Building It</div></div>
                <h1>ClojureScript Compiler</h1>
                <div class="unbrokenline"></div>
            </div>
            <aside>
                
            </aside>
        </section>


        <section>
            <div class="content">
                <div class="byline"><div class="classy">Building It</div></div>
                <h1>Google Closure Compiler</h1>
                <div class="unbrokenline"></div>
            </div>
            <aside>
                
            </aside>
        </section>


        <section>
            <div class="content">
                <div class="byline"><div class="classy">Building It</div></div>
                <h1>ClojureScript Compiler Usage</h1>
                <div class="unbrokenline"></div>
            </div>
            <aside>
                
            </aside>
        </section>


        <section>
            <div class="content">
                <div class="byline"><div class="classy">Building It</div></div>
                <h1>lein-cljsbuild</h1>
                <pre><code class="clojure">(defproject example1 "0.1.0-SNAPSHOT"
  :dependencies [[org.clojure/clojure "1.5.1"]
                 [org.clojure/clojurescript "0.0-2173"]]
  :plugins [[lein-cljsbuild "1.0.2"]]
  :source-paths ["src"]
  :cljsbuild {
    :builds [{:source-paths ["src"]
              :compiler {
                :output-to "main.js"
                :output-dir "out"
                :optimizations :none
                :source-map true}}]})</code></pre>
                <pre><code class="bash">$ lein cljsbuild once
$ lein cljsbuild auto
$ lein cljsbuild clean
</code></pre>
                <div class="unbrokenline"></div>
            </div>
            <aside>
                
            </aside>
        </section>

        <section>
            <div class="content">
                <div class="byline"><div class="classy">Building It</div></div>
                <h1>Leiningen Templates</h1>
                <div style="display:inline-block; vertical-align:top;"><h3>mies</h3><img src="img/template-mies.png" /></div>
                <div style="display:inline-block; vertical-align:top;"><h3>cljs-austin</h3><img src="img/template-austin.png" /></div>
                <div style="display:inline-block; vertical-align:top;"><h3>pedestal-app</h3><img src="img/template-pedestal-app.png" /></div>
                <div class="unbrokenline"></div>
            </div>
            <aside>
                
            </aside>
        </section>


        <section>
            <div class="content">
                <div class="byline"><div class="classy"></div></div>
                <h1>Editors</h1>
                <div class="unbrokenline"></div>
            </div>
            <aside>
                
            </aside>
        </section>

        <section>
            <div class="content">
                <div class="byline"><div class="classy"></div></div>
                <h1>Testing &amp; Debugging</h1>
                <div class="unbrokenline"></div>
            </div>
            <aside>
                
            </aside>
        </section>


        <section>
            <div class="content">
                <div class="byline"><div class="classy"></div></div>
                <h1>lein-cljsbuild Test Runner</h1>
                <div class="unbrokenline"></div>
            </div>
            <aside>
                
            </aside>
        </section>


        <section>
            <div class="content">
                <div class="byline"><div class="classy"></div></div>
                <h1>ClojureScript.Test</h1>
                <div class="unbrokenline"></div>
            </div>
            <aside>
                
            </aside>
        </section>


        <section>
            <div class="content">
                <div class="byline"><div class="classy"></div></div>
                <h1>REPL</h1>
                <div class="unbrokenline"></div>
            </div>
            <aside>
                
            </aside>
        </section>


        <section>
            <div class="content">
                <div class="byline"><div class="classy"></div></div>
                <h1>Stack Traces</h1>
                <div class="unbrokenline"></div>
            </div>
            <aside>
                
            </aside>
        </section>


        <section>
            <div class="content">
                <div class="byline"><div class="classy"></div></div>
                <h1>Source Maps</h1>
                <div class="unbrokenline"></div>
            </div>
            <aside>
                
            </aside>
        </section>


        <section>
            <div class="content">
                <div class="byline"><div class="classy"></div></div>
                <h1>Integrating Clojure and Javascript</h1>
                <div class="unbrokenline"></div>
            </div>
            <aside>
                
            </aside>
        </section>


        <section>
            <div class="content">
                <div class="byline"><div class="classy"></div></div>
                <h1>this</h1>
                <div class="unbrokenline"></div>
            </div>
            <aside>
                
            </aside>
        </section>


        <section>
            <div class="content">
                <div class="byline"><div class="classy"></div></div>
                <h1>^:export metadata</h1>
                <div class="unbrokenline"></div>
            </div>
            <aside>
                
            </aside>
        </section>


        <section>
            <div class="content">
                <div class="byline"><div class="classy"></div></div>
                <h1>Node and Node Modules</h1>
                <div class="unbrokenline"></div>
            </div>
            <aside>
                
            </aside>
        </section>


        <section>
            <div class="content">
                <div class="byline"><div class="classy"></div></div>
                <h1>Protocols and Extend-Type</h1>
                <div class="unbrokenline"></div>
            </div>
            <aside>
                
            </aside>
        </section>


        <section>
            <div class="content">
                <div class="byline"><div class="classy"></div></div>
                <h1>Macro Expansion</h1>
                <div class="unbrokenline"></div>
            </div>
            <aside>
                
            </aside>
        </section>


        <section>
            <div class="content">
                <div class="byline"><div class="classy"></div></div>
                <h1>js* Macro</h1>
                <div class="unbrokenline"></div>
            </div>
            <aside>
                
            </aside>
        </section>


        <section>
            <div class="content">
                <div class="byline"><div class="classy"></div></div>
                <h1>Building Bigger</h1>
                <div class="unbrokenline"></div>
            </div>
            <aside>
                
            </aside>
        </section>


        <section>
            <div class="content">
                <div class="byline"><div class="classy"></div></div>
                <h1>EDN</h1>
                <div class="unbrokenline"></div>
            </div>
            <aside>
                
            </aside>
        </section>


        <section>
            <div class="content">
                <div class="byline"><div class="classy"></div></div>
                <h1>Objects</h1>
                <div class="unbrokenline"></div>
            </div>
            <aside>
                
            </aside>
        </section>


        <!-- Available Libraries -->
        <section>
            <div class="content">
                <div class="unbrokenline"></div>
                <h1>Libraries</h1>
                <div class="unbrokenline"></div>
            </div>
            <aside>
                
            </aside>
        </section>

        <!-- Enfocus -->
        <section>
            <div class="content">
                <div class="byline"><div class="classy">Libraries</div></div>
                <h1>Enfocus, Enliven, and Kioo</h1>
                <div class="unbrokenline"></div>
            </div>
            <aside>
                
            </aside>
        </section>

        <!-- Reagent -->
        <!-- Om -->
        <!-- Quiescent -->
        <section>
            <div class="content">
                <div class="byline"><div class="classy">Libraries</div></div>
                <h1>React.js</h1>
Om
Reagent
Quiescent
                <div class="unbrokenline"></div>
            </div>
            <aside>
                
            </aside>
        </section>

        <!-- Core.Async -->
        <section>
            <div class="content">
                <div class="byline"><div class="classy">Libraries</div></div>
                <h1>Core.Async</h1>
                <pre style="display: inline-block;"><code class="clojure">(Code Sample)
</code></pre>                
                <div class="unbrokenline"></div>
            </div>
            <aside>
            If you've seen Go Routines in Google's Go language, this will look familier. Core.Async provides a message &amp; channel model for concurrent processes. You implement your logic inside a Go macro. At the points where it writes to, or listen's from, a channel, the execution of the go block will be suspended. Internally this is accomplished by recompiling your code into a state machine at macro expansion, similar the async and await keywords in C#.

            I've written test code with hundreds of concurrently executing Go blocks with good performance. And, i've seen examples with thousands of Go blocks with good performance. (Although, the DOM manipulations did spin up my CPU fan.)

            This also addresses the callback hell problem without promises or callbacks. Within a go block, your application logic can be written in a normal flow, and yet still be dealing with asynchronous events.
            </aside>
        </section>

        <!-- Core.Match -->
        <section>
            <div class="content">
                <div class="byline"><div class="classy">Libraries</div></div>
                <h1>Core.Match</h1>
                <pre style="display: inline-block;"><code class="clojure">(Code Sample)
</code></pre>                
                <div class="unbrokenline"></div>
            </div>
            <aside>
            Core.Match 
            </aside>
        </section>

        <!-- Core.Logic -->
        <section>
            <div class="content">
                <div class="byline"><div class="classy">Libraries</div></div>
                <h1>Core.Logic</h1>
                <pre style="display: inline-block;"><code class="clojure">
                </code></pre>
                <div class="unbrokenline"></div>
            </div>
            <aside>
            Core.Logic is another cross compatible library. This example actually solves sudoku using declaritive logic programming. I believe it's based on miniKanren.
            </aside>
        </section>


        <section>
            <div class="content">
                <div class="unbrokenline"></div>
                <h1>Frameworks</h1>
                <div class="unbrokenline"></div>
            </div>
            <aside>
                
            </aside>
        </section>


        <section>
            <div class="content">
                <div class="byline"><div class="classy">Frameworks</div></div>
                <h1>Pedestal Applications (v0.2)</h1>
                <div class="unbrokenline"></div>
            </div>
            <aside>
                
            </aside>
        </section>


        <section>
            <div class="content">
                <div class="byline"><div class="classy">Frameworks</div></div>
                <h1>Haplon</h1>
                <div class="unbrokenline"></div>
            </div>
            <aside>
                
            </aside>
        </section>


        <section>
            <div class="content">
                <div class="byline"><div class="classy">Frameworks</div></div>
                <h1></h1>
                        <!-- Coils -->
        <!-- Luminus -->
        <!-- Many more! -->

                <div class="unbrokenline"></div>
            </div>
            <aside>
            I'm leaving out many other frameworks, each with their own take on slightly different take on the problem they are trying to solve. I actually think every developer goes through a phase of either building, or wanting to build your own framework. Just like developers go through a phase of building their own text editor or building their own programming language. 

            But, while most developers want to build a framework, most of the community has a different opinion on frameworks.
            </aside>
        </section>


        <section>
            <div class="content">
                <div class="byline"><div class="classy">Frameworks</div></div>
                <h1>Community Opinion: Frameworks are generally unnecessary, and too large for their own good.</h1>
                <div class="unbrokenline"></div>
            </div>
            <aside>
            Most Clojure and ClojureScript developers that I have encountered have prefered both building and using libraries over frameworks. And, I agree with them. When I first encountered Pedestal, I could not understand what it did or how I was suppose to use it. It was this large, almost unwieldy thing. Every feature that I found in it, could have be improved by spliting it out into a more generic library.

            I think this is an artifact of the large effects a library can have in Clojure and ClojureScript. Message passing is just a library. Optional typing is just a library. Pattern matching is just a library too. In other languages, those items are language features. Frameworks just don't have the same benefit in Clojure and ClojureScript. Most of the frameworks I have followed, in the past, end up being split into libraries.
            </aside>
        </section>

        <section>
            <div class="content">
                <div class="byline"><div class="classy"></div></div>
                <h1>Online Resources</h1>
                <div class="unbrokenline"></div>
            </div>
            <aside>
                
            </aside>
        </section>


        <section>
            <div class="content">
                <div class="byline"><div class="classy"></div></div>
                <h1>User Groups</h1>
                <div class="unbrokenline"></div>
            </div>
            <aside>
                
            </aside>
        </section>


        <section>
            <div class="content">
                <div class="byline"><div class="classy"></div></div>
                <h1>Conferences</h1>
                <div class="unbrokenline"></div>
            </div>
            <aside>
                
            </aside>
        </section>


        <!-- Testing
            cljsbuild contains a test runner designed to work with phantomjs and run existing javascript testing frameworks.
            Chas Emerick has a port of the clojure.test library. It is currently a work in progress, but it does work.
            https://github.com/cemerick/clojurescript.test
            -->


        <!-- Available "Frameworks" -->
        <!-- Webfui (2011, lower performance compared to React.js)-->
        <!-- Hoplon -->

        <!-- Pedestal -->
        <!-- Pedestal Applications -->
        <!-- Event flow -->
        <!-- Large models -->
        <!-- Event without models -->


        <!-- Repeated Intro -->
        <section>
            <div class="content">
                <div class="unbrokenline"></div>
                <h1>An Introduction to <strong>ClojureScript</strong></h1>
                <h3>for Javascript developers</h3>
                <div class="unbrokenline"></div>
                <div class="me"></div>
                <div><a target="_blank" href="http://blog.lobberecht.com/">http://blog.Lobberecht.com</a><br/><a target="_blank" href="https://twitter.com/jared314">@Jared314</a><br/><a target="_blank" href="http://github.com/Jared314">Jared@Lobberecht.com</a>
                </div>
            </div>
            <aside>
            Again, I am Jared. And, I can take questions.
            </aside>
        </section>        

    </article>

    <script src="bespoke.min.js"></script>
    <script src="bespoke-keys.min.js"></script>
    <script src="bespoke-run.min.js"></script>
    <script src="highlight.pack.js"></script>
    <script>
        var deck1 = bespoke.from('article', {
            keys: true,
            run: true//,
            // secondary: {
            // // Change the selector used to find notes, in a .bespoke-slide context
            // notes: ".show-notes",
            // keys: {
            //     // https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent#Virtual_key_codes
            //     // Change the key used to toggle the secondary window
            //     toggle: 0x54, // (84) "T" key.
            // }
            //}
        });
        hljs.initHighlightingOnLoad();
    </script>
</body>
</html>